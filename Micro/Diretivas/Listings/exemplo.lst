


ARM Macro Assembler    Page 1 


    1 00000000         ; Exemplo.s
    2 00000000         ; Desenvolvido para a placa EK-TM4C1294XL
    3 00000000         
    4 00000000         ; ------------------------------------------------------
                       -------------------------
    5 00000000         ; Declarações EQU
    6 00000000         ;<NOME>         EQU <VALOR>
    7 00000000         
    8 00000000         ; ------------------------------------------------------
                       -------------------------
    9 00000000         
   10 00000000                 AREA             DATA, ALIGN=2
   11 00000000         
   12 00000000 00 00 00 
              00 00 00 STR_2   SPACE            6           ;vetor com 6 bytes
   13 00000006 00 00 00 
              00 00 00 STR_3   SPACE            6           ;vetor com 6 bytes
   14 0000000C 00 00   V1      DCW              0x00
   15 0000000E 00 00 00000000 
                       V2      DCD              0x00
   16 00000014         
   17 00000014                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   18 00000000                 THUMB
   19 00000000         
   20 00000000         ; Se alguma função do arquivo for chamada em outro arqui
                       vo 
   21 00000000                 EXPORT           Start       ; Permite chamar a 
                                                            função Start a part
                                                            ir de 
   22 00000000         ; outro arquivo. No caso startup.s
   23 00000000         
   24 00000000         ; Se chamar alguma função externa 
   25 00000000         ;IMPORT <func>              ; Permite chamar dentro dest
                       e arquivo uma 
   26 00000000         ; função <func>
   27 00000000         
   28 00000000         ; ------------------------------------------------------
                       --------------------------
   29 00000000 0000000A 
                       BOLA    EQU              10          ; equivalente aos "
                                                            defines"
   30 00000000 00000014 
                       JOGADOR EQU              20          ; equivalente aos "
                                                            defines"
   31 00000000 00000030 
                       MESA    EQU              0x30        ; equivalente aos "
                                                            defines"
   32 00000000         
   33 00000000         
   34 00000000         Start
   35 00000000 F04F 000A       MOV              R0, #BOLA
   36 00000004 F04F 0114       MOV              R1, #JOGADOR
   37 00000008         
   38 00000008 4A14            LDR              R2, =CONST_2 ; com =, pega ende
                                                            reço do primeiro el
                                                            emento
   39 0000000A 4B13            LDR              R3, CONST_3 ; sem =, pega valor
                                                             de 32b



ARM Macro Assembler    Page 2 


   40 0000000C         
   41 0000000C 4D14            LDR              R5, =0x20000001
   42 0000000E F845 1B01       STR              R1, [R5], #1
   43 00000012 4D14            LDR              R5, =VETOR_1 ; com =, pega ende
                                                            reço do primeiro el
                                                            emento
   44 00000014 F815 6B01       LDRB             R6, [R5], #1
   45 00000018 4D13            LDR              R5, =VETOR_2
   46 0000001A F815 6B01       LDRB             R6, [R5], #1
   47 0000001E         
   48 0000001E         ;STRB R0, [R5] ; nao funcionaria, pois STR_1 está na ROM
                       .
   49 0000001E         
   50 0000001E 4F13            LDR              R7, =STR_2  ;pegamos o endereço
                                                             do vetor
   51 00000020 F8DF 804C       LDR              R8, =STR_3  ;pegamos o endereço
                                                             do vetor
   52 00000024         varre_str
   53 00000024 F815 6B01       LDRB             R6, [R5], #1
   54 00000028 F807 6B01       STRB             R6, [R7], #1 ; pois STR_2 está 
                                                            na RAM.
   55 0000002C F808 6B01       STRB             R6, [R8], #1 ; pois STR_2 está 
                                                            na RAM.
   56 00000030 2E00            CMP              R6, #0
   57 00000032 D1F7            BNE              varre_str
   58 00000034         ;BL escreve_LCD
   59 00000034         
   60 00000034 BF00            NOP
   61 00000036         
   62 00000036         ; ------------------------------------------------------
                       ---------------------------
   63 00000036         ; Declarando constantes:
   64 00000036 55 54 46 
              50 52 00 STR_1   DCB              "UTFPR",0
   65 0000003C FF AA 12 
              14 00    VETOR_1 DCB              0xFF, 0xAA, 0x12, 0x14,0
   66 00000041 7B 22 2D 
              32       VETOR_2 DCB              123, 34, 45, 50
   67 00000045 00 45 23 
              22 11 77 
              55 23 FF CONST_1 DCW              0x2345, 0x1122, 0x5577, 0xFF23
   68 0000004E 00 00 11223344 
              FF564321 CONST_2 DCD              0x11223344, 0xFF564321
   69 00000058 11223344 
                       CONST_3 DCD              0x11223344
   70 0000005C         
   71 0000005C                 ALIGN                        ; garante que o fim
                                                             da seção está alin
                                                            hada 
   72 0000005C                 END                          ; fim do arquivo
              00000000 
              20000001 
              00000000 
              00000000 
              00000000 
              00000000 
Command Line: --debug --xref --diag_suppress=9931,A1950W --cpu=Cortex-M4.fp.sp 
--depend=.\objects\exemplo.d -o.\objects\exemplo.o -IC:\Users\Avell\AppData\Loc
al\Arm\Packs\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C129 --predefine="__EVAL SET



ARM Macro Assembler    Page 3 


A 1" --predefine="__UVISION_VERSION SETA 538" --predefine="TM4C1294NCPDT SETA 1
" --list=.\listings\exemplo.lst exemplo.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

DATA 00000000

Symbol: DATA
   Definitions
      At line 10 in file exemplo.s
   Uses
      None
Comment: DATA unused
STR_2 00000000

Symbol: STR_2
   Definitions
      At line 12 in file exemplo.s
   Uses
      At line 50 in file exemplo.s
Comment: STR_2 used once
STR_3 00000006

Symbol: STR_3
   Definitions
      At line 13 in file exemplo.s
   Uses
      At line 51 in file exemplo.s
Comment: STR_3 used once
V1 0000000C

Symbol: V1
   Definitions
      At line 14 in file exemplo.s
   Uses
      None
Comment: V1 unused
V2 00000010

Symbol: V2
   Definitions
      At line 15 in file exemplo.s
   Uses
      None
Comment: V2 unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 17 in file exemplo.s
   Uses
      None
Comment: .text unused
CONST_1 00000046

Symbol: CONST_1
   Definitions
      At line 67 in file exemplo.s
   Uses
      None
Comment: CONST_1 unused
CONST_2 00000050

Symbol: CONST_2
   Definitions
      At line 68 in file exemplo.s
   Uses
      At line 38 in file exemplo.s
Comment: CONST_2 used once
CONST_3 00000058

Symbol: CONST_3
   Definitions
      At line 69 in file exemplo.s
   Uses
      At line 39 in file exemplo.s
Comment: CONST_3 used once
STR_1 00000036

Symbol: STR_1
   Definitions
      At line 64 in file exemplo.s
   Uses
      None
Comment: STR_1 unused
Start 00000000

Symbol: Start
   Definitions
      At line 34 in file exemplo.s
   Uses
      At line 21 in file exemplo.s
Comment: Start used once
VETOR_1 0000003C

Symbol: VETOR_1
   Definitions
      At line 65 in file exemplo.s
   Uses
      At line 43 in file exemplo.s
Comment: VETOR_1 used once
VETOR_2 00000041

Symbol: VETOR_2



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 66 in file exemplo.s
   Uses
      At line 45 in file exemplo.s
Comment: VETOR_2 used once
varre_str 00000024

Symbol: varre_str
   Definitions
      At line 52 in file exemplo.s
   Uses
      At line 57 in file exemplo.s
Comment: varre_str used once
9 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

BOLA 0000000A

Symbol: BOLA
   Definitions
      At line 29 in file exemplo.s
   Uses
      At line 35 in file exemplo.s
Comment: BOLA used once
JOGADOR 00000014

Symbol: JOGADOR
   Definitions
      At line 30 in file exemplo.s
   Uses
      At line 36 in file exemplo.s
Comment: JOGADOR used once
MESA 00000030

Symbol: MESA
   Definitions
      At line 31 in file exemplo.s
   Uses
      None
Comment: MESA unused
3 symbols
353 symbols in table
